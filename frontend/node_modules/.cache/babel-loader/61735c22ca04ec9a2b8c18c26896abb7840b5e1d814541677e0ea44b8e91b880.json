{"ast":null,"code":"import _initializerDefineProperty from \"/home/NIX/lazoryk/projects/react_ts/todoapp/todo-app/node_modules/@babel/runtime/helpers/esm/initializerDefineProperty.js\";\nimport _applyDecoratedDescriptor from \"/home/NIX/lazoryk/projects/react_ts/todoapp/todo-app/node_modules/@babel/runtime/helpers/esm/applyDecoratedDescriptor.js\";\nimport _initializerWarningHelper from \"/home/NIX/lazoryk/projects/react_ts/todoapp/todo-app/node_modules/@babel/runtime/helpers/esm/initializerWarningHelper.js\";\nvar _class,\n  _descriptor,\n  _class3,\n  _descriptor2,\n  _s = $RefreshSig$();\nimport { createContext, useContext } from 'react';\nimport { observable, action, makeObservable } from 'mobx';\nexport let Task = (_class = class Task {\n  constructor(id, title) {\n    this.id = void 0;\n    _initializerDefineProperty(this, \"title\", _descriptor, this);\n    this.id = id;\n    this.title = title;\n    makeObservable(this, {});\n  }\n}, (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"title\", [observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n})), _class);\nexport let TaskStore = (_class3 = class TaskStore {\n  constructor() {\n    _initializerDefineProperty(this, \"tasks\", _descriptor2, this);\n  }\n  async fetchTasks() {\n    try {\n      const response = await fetch('http://localhost:3000/tasks');\n      const tasks = await response.json();\n      this.tasks = tasks;\n    } catch (error) {\n      console.error('Error fetching tasks:', error);\n    }\n  }\n  async addTask(title) {\n    try {\n      const response = await fetch('http://localhost:3000/tasks', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          id: Date.now(),\n          title\n        })\n      });\n      const task = await response.json();\n      this.tasks.push(task);\n    } catch (error) {\n      console.error('Error adding task:', error);\n    }\n  }\n}, (_descriptor2 = _applyDecoratedDescriptor(_class3.prototype, \"tasks\", [observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function () {\n    return [];\n  }\n}), _applyDecoratedDescriptor(_class3.prototype, \"fetchTasks\", [action], Object.getOwnPropertyDescriptor(_class3.prototype, \"fetchTasks\"), _class3.prototype), _applyDecoratedDescriptor(_class3.prototype, \"addTask\", [action], Object.getOwnPropertyDescriptor(_class3.prototype, \"addTask\"), _class3.prototype)), _class3);\nexport class RootStore {\n  constructor() {\n    this.taskStore = void 0;\n    this.taskStore = new TaskStore();\n  }\n}\nconst rootStore = new RootStore();\nconst RootStoreContext = /*#__PURE__*/createContext(rootStore);\nexport const useRootStore = () => {\n  _s();\n  return useContext(RootStoreContext);\n};\n_s(useRootStore, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");","map":{"version":3,"names":["createContext","useContext","observable","action","makeObservable","Task","_class","constructor","id","title","_initializerDefineProperty","_descriptor","_applyDecoratedDescriptor","prototype","configurable","enumerable","writable","initializer","TaskStore","_class3","_descriptor2","fetchTasks","response","fetch","tasks","json","error","console","addTask","method","headers","body","JSON","stringify","Date","now","task","push","Object","getOwnPropertyDescriptor","RootStore","taskStore","rootStore","RootStoreContext","useRootStore","_s"],"sources":["/home/NIX/lazoryk/projects/react_ts/todoapp/todo-app/src/stores/RootStore.ts"],"sourcesContent":["import { createContext, useContext } from 'react';\nimport { observable, action, makeObservable } from 'mobx';\n\nexport class Task {\n  id: number;\n  @observable title: string;\n\n  constructor(id: number, title: string) {\n    this.id = id;\n    this.title = title;\n    makeObservable(this, {\n        \n    })\n  }\n}\n\nexport class TaskStore {\n  @observable tasks: Task[] = [];\n\n  @action\n  async fetchTasks(): Promise<void> {\n    try {\n      const response = await fetch('http://localhost:3000/tasks');\n      const tasks = await response.json();\n      this.tasks = tasks;\n    } catch (error) {\n      console.error('Error fetching tasks:', error);\n    }\n  }\n\n  @action\n  async addTask(title: string): Promise<void> {\n    try {\n      const response = await fetch('http://localhost:3000/tasks', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ id: Date.now(), title }),\n      });\n      const task = await response.json();\n      this.tasks.push(task);\n    } catch (error) {\n      console.error('Error adding task:', error);\n    }\n  }\n}\n\nexport class RootStore {\n  taskStore: TaskStore;\n\n  constructor() {\n    this.taskStore = new TaskStore();\n  }\n}\n\nconst rootStore = new RootStore();\nconst RootStoreContext = createContext<RootStore>(rootStore);\n\nexport const useRootStore = (): RootStore => useContext(RootStoreContext);"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}